<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>用cloudflare tunnel把你的博客放在你的路由器上 | qklg</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="1cf官网 ①打开cloudflare的控制台，选择左边的zero trust，选择计划免费就行，绑完支付方式就能用了，不会扣费的，放心好了，只">
<meta name="generator" content="Hugo 0.123.8">


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="stylesheet" href="/css/style.css">



<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />

 
  







  </head>

  <body>
    <nav class="navigation">
	
		<a href="/"> <span class="arrow">←</span>Home</a>
	
	<a href="/posts">Archive</a>
	<a href="/tags">Tags</a>
	<a href="/about">About</a>

	

	
		
  	
</nav>


    <main class="main">
      

<section id="single">
    <h1 class="title">用cloudflare tunnel把你的博客放在你的路由器上</h1>

    <div class="tip">
        <time datetime="2023-07-09 13:21:50 &#43;0000 UTC">Jul 9, 2023</time>
        <span class="split">
          ·
        </span>
        <span>
          837 words
        </span>
        <span class="split">
          ·
        </span>
        <span>
          2 minute read
        </span>
    </div>

    
    
        
  


    


    <div class="content">
      <p>1cf官网</p>
<p>①打开cloudflare的控制台，选择左边的zero trust，选择计划免费就行，绑完支付方式就能用了，不会扣费的，放心好了，只用tunnel的话，绑完可以去账单，付款方式里把卡删掉就可以了<br>
<p class="markdown-image">
  <img src="https://testingcf.jsdelivr.net/gh/qklg/pic/webp/202310241322743.webp" alt=""  />
</p><br>
<p class="markdown-image">
  <img src="https://testingcf.jsdelivr.net/gh/qklg/pic/webp/202310241322497.webp" alt=""  />
</p><br>
②点击左边access-tunnels<br>
<p class="markdown-image">
  <img src="https://testingcf.jsdelivr.net/gh/qklg/pic/webp/202310241322693.webp" alt=""  />
</p><br>
③选择creat a tunnel，tunnel name随便去个名字就行,然后点击save tunnel<br>
<p class="markdown-image">
  <img src="https://testingcf.jsdelivr.net/gh/qklg/pic/webp/202310241323514.webp" alt=""  />
</p><br>
<p class="markdown-image">
  <img src="https://testingcf.jsdelivr.net/gh/qklg/pic/webp/202310241323594.webp" alt=""  />
</p><br>
这边准备工作就完成了</p>
<p>2本地设备</p>
<p>①如果你用的是openwrt路由器的话，直接参考这位大佬的教程<br>
<a href="https://hostloc.com/thread-1154840-1-1.html" target="_blank" rel="noopener">https://hostloc.com/thread-1154840-1-1.html</a></p>
<p>其他各平台的cf那边都有怎么做的<br>
②如果你是和我一样的懒狗，选择docker，然后复制下面的install and run，直接进路由器或者别的支持docker的平台上ssh进去直接一键梭哈就行了</p>
<p><p class="markdown-image">
  <img src="https://testingcf.jsdelivr.net/gh/qklg/pic/webp/202310241323818.webp" alt=""  />
</p><br>
如果成功的话，回到之前的界面<br>
这边status会变成绿色healty，这表示隧道创建成功了<br>
<p class="markdown-image">
  <img src="https://testingcf.jsdelivr.net/gh/qklg/pic/webp/202310241323843.webp" alt=""  />
</p><br>
3搭建博客<br>
①我选择halo，还是因为我是懒狗，可以直接dcoker一键梭哈，不用配置乱七八糟的<br>
参考halo官网的文档，直接运行以下命令就行就行，记得把P@88w0rd改成自己的密码，复杂点的尽量<br>
具体参数啥的文档里都有<br>
<a href="https://docs.halo.run/getting-started/install/docker" target="_blank" rel="noopener">https://docs.halo.run/getting-started/install/docker</a></p>
<pre tabindex="0"><code>docker run \
  -it -d \
  --name halo \
  -p 8090:8090 \
  -v ~/.halo2:/root/.halo2 \
  halohub/halo:2.7 \
  --halo.external-url=http://localhost:8090/ \
  --halo.security.initializer.superadminusername=admin \
  --halo.security.initializer.superadminpassword=P@88w0rd
</code></pre><p>②输入你路由器ip:8090端口就可以访问你的halo的博客了<br>
输入账户admin，密码就行了，站点名称，随便取个就行了<br>
<p class="markdown-image">
  <img src="https://testingcf.jsdelivr.net/gh/qklg/pic/webp/202310241323423.webp" alt=""  />
</p></p>
<p>③回到cloudflare官网<br>
access-tunnels<br>
右边三个点，选择configure<br>
<p class="markdown-image">
  <img src="https://testingcf.jsdelivr.net/gh/qklg/pic/webp/202310241323520.webp" alt=""  />
</p><br>
选择public hostname，再点add a public hostanme<br>
<p class="markdown-image">
  <img src="https://testingcf.jsdelivr.net/gh/qklg/pic/webp/202310241323028.webp" alt=""  />
</p><br>
选择你想访问的域名，然后按照下面的输入就行了<br>
hostname就是你公网访问的域名，这个自己整<br>
service就是你路由器局域网访问ip。比方说我的博客是http://192.168.1.1:8090<br>
选择http,然后后面输192.168.1.1:8090就ok<br>
然后点击save hostname保存<br>
<p class="markdown-image">
  <img src="https://testingcf.jsdelivr.net/gh/qklg/pic/webp/202310241324333.webp" alt=""  />
</p><br>
浏览器打开你刚刚输入的host name，就可以访问了，也可以把其他的端口弄到公网上</p>
<p>关于速度，国内访问cf，一般都是到美西的节点，基本上绕了大半个地球回来，所以速度就那样了，当个玩具用用不错</p>

    </div>

    
    
    

</section>


    </main>
    
    <footer id="footer">
    

    <div class="copyright">
    
        qklg Hosted on <!-- raw HTML omitted -->  Cloudflare Pages <!-- raw HTML omitted -->
    
    </div>

    
      <div class="powerby">
        Powered by <a href='http://www.gohugo.io/'>Hugo</a> Theme By <a href='https://github.com/nodejh/hugo-theme-mini'>nodejh</a>
      </div>
    
</footer>



  </body>
</html>
