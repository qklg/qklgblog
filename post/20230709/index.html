<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   <meta name="description" content="1cf官网
①打开cloudflare的控制台，选择左边的zero trust，选择计划免费就行，绑完支付方式就能用了，不会扣费的，放心好了，只用tunnel的话，绑完可以去账单，付款方式里把卡删掉就可以了


②点击左边access-tunnels

③选择creat a tunnel，tunnel name随便去个名字就行,然后点击save tunnel


这边准备工作就完成了">  

  <title>
    
      用cloudflare tunnel把你的博客放在你的路由器上
    
  </title>


  <link rel="shortcut icon" type="image/x-icon" href="/" />
  
  
  
  <link rel="stylesheet" href="/css/main.65ae318a1ec6e7795879f61af92fe7a407a4b2e59adeeb02b3892f4bf792ef7945c69626b1d0e0960725e3173c7d988b1ca729bac9d9c4b3e2117f20e01be3e0.css" integrity="sha512-Za4xih7G53lYefYa&#43;S/npAeksuWa3usCs4kvS/eS73lFxpYmsdDglgcl4xc8fZiLHKcpusnZxLPiEX8g4Bvj4A==" />
  
</head>
<body a="dark">
        <main class="page-content" aria-label="Content">
            <div class="w">
                <div class="post-meta">
                    <a href="/">..</a>

                    <p>
                        <time datetime="2023-07-09 13:21:50 &#43;0000 UTC">
                            2023-07-09
                        </time>
                    </p>
                </div>

<article>
    <h1>用cloudflare tunnel把你的博客放在你的路由器上</h1>

    

    <p>1cf官网</p>
<p>①打开cloudflare的控制台，选择左边的zero trust，选择计划免费就行，绑完支付方式就能用了，不会扣费的，放心好了，只用tunnel的话，绑完可以去账单，付款方式里把卡删掉就可以了<br>
<img src="https://s3.qklg.net/img/202310241322743.png" alt=""><br>
<img src="https://s3.qklg.net/img/202310241322497.png" alt=""><br>
②点击左边access-tunnels<br>
<img src="https://s3.qklg.net/img/202310241322693.png" alt=""><br>
③选择creat a tunnel，tunnel name随便去个名字就行,然后点击save tunnel<br>
<img src="https://s3.qklg.net/img/202310241323514.png" alt=""><br>
<img src="https://s3.qklg.net/img/202310241323594.png" alt=""><br>
这边准备工作就完成了</p>
<p>2本地设备</p>
<p>①如果你用的是openwrt路由器的话，直接参考这位大佬的教程<br>
<a href="https://hostloc.com/thread-1154840-1-1.html">https://hostloc.com/thread-1154840-1-1.html</a></p>
<p>其他各平台的cf那边都有怎么做的<br>
②如果你是和我一样的懒狗，选择docker，然后复制下面的install and run，直接进路由器或者别的支持docker的平台上ssh进去直接一键梭哈就行了</p>
<p><img src="https://s3.qklg.net/img/202310241323818.png" alt=""><br>
如果成功的话，回到之前的界面<br>
这边status会变成绿色healty，这表示隧道创建成功了<br>
<img src="https://s3.qklg.net/img/202310241323843.png" alt=""><br>
3搭建博客<br>
①我选择halo，还是因为我是懒狗，可以直接dcoker一键梭哈，不用配置乱七八糟的<br>
参考halo官网的文档，直接运行以下命令就行就行，记得把P@88w0rd改成自己的密码，复杂点的尽量<br>
具体参数啥的文档里都有<br>
<a href="https://docs.halo.run/getting-started/install/docker">https://docs.halo.run/getting-started/install/docker</a></p>
<pre tabindex="0"><code>docker run \
  -it -d \
  --name halo \
  -p 8090:8090 \
  -v ~/.halo2:/root/.halo2 \
  halohub/halo:2.7 \
  --halo.external-url=http://localhost:8090/ \
  --halo.security.initializer.superadminusername=admin \
  --halo.security.initializer.superadminpassword=P@88w0rd
</code></pre><p>②输入你路由器ip:8090端口就可以访问你的halo的博客了<br>
输入账户admin，密码就行了，站点名称，随便取个就行了<br>
<img src="https://s3.qklg.net/img/202310241323423.png" alt=""></p>
<p>③回到cloudflare官网<br>
access-tunnels<br>
右边三个点，选择configure<br>
<img src="https://s3.qklg.net/img/202310241323520.png" alt=""><br>
选择public hostname，再点add a public hostanme<br>
<img src="https://s3.qklg.net/img/202310241323028.png" alt=""><br>
选择你想访问的域名，然后按照下面的输入就行了<br>
hostname就是你公网访问的域名，这个自己整<br>
service就是你路由器局域网访问ip。比方说我的博客是http://192.168.1.1:8090<br>
选择http,然后后面输192.168.1.1:8090就ok<br>
然后点击save hostname保存<br>
<img src="https://s3.qklg.net/img/202310241324333.png" alt=""><br>
浏览器打开你刚刚输入的host name，就可以访问了，也可以把其他的端口弄到公网上</p>
<p>关于速度，国内访问cf，一般都是到美西的节点，基本上绕了大半个地球回来，所以速度就那样了，当个玩具用用不错</p>

</article>

            </div>
        </main>
    </body></html>
